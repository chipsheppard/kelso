/**
 * Global JS file
 *
 * @package    osixthreeo
 * @subpackage osixthreeo/assets/js
 * @author     Chip Sheppard
 * @since      1.0.0
 * @license    GPL-2.0+
 */
!function(e){var n,t,a,i;function o(n){var t=e("<button />",{class:"dropdown-toggle","aria-expanded":!1}).append(e("<span />",{class:"screen-reader-text",text:"Expand child menu"}));n.find(".menu-item-has-children > a, .page_item_has_children > a").after(t),n.find(".current-menu-ancestor > button").addClass("not-toggled").attr("aria-expanded","false").find(".screen-reader-text").text("Expand child menu"),n.find(".current-menu-ancestor > .sub-menu").addClass("not-toggled"),n.find(".dropdown-toggle").click((function(n){var t=e(this),a=t.find(".screen-reader-text");n.preventDefault(),t.toggleClass("toggled-on"),t.next(".children, .sub-menu").toggleClass("toggled-on"),t.attr("aria-expanded","false"===t.attr("aria-expanded")?"true":"false"),a.text("Expand child menu"===a.text()?"Collapse child menu":"Expand child menu")}))}o(e(".site-navigation, .topbar-widget.widget_nav_menu")),n=e("#masthead"),t=n.find(".responsive-menu-icon"),a=n.find(".site-navigation"),i=n.find(".site-navigation > .menu-wrap > div > ul"),t.length&&(t.attr("aria-expanded","false"),t.on("click",(function(){a.toggleClass("toggled-on"),e(this).attr("aria-expanded",a.hasClass("toggled-on"))}))),function(){function n(){"none"===e(".responsive-menu-icon").css("display")?(e(document.body).on("touchstart",(function(n){e(n.target).closest(".site-navigation li").length||e(".site-navigation li").removeClass("focus")})),i.find(".menu-item-has-children > a, .page_item_has_children > a").on("touchstart",(function(n){var t=e(this).parent("li");t.hasClass("focus")||(n.preventDefault(),t.toggleClass("focus"),t.siblings(".focus").removeClass("focus"))}))):i.find(".menu-item-has-children > a, .page_item_has_children > a").unbind("touchstart")}i.length&&i.children().length&&("ontouchstart"in window&&(e(window).on("resize",n),n()),i.find("a").on("focus blur",(function(){e(this).parents(".menu-item, .page_item").toggleClass("focus")})))}(),e(window).on("load resize",(function(){window.innerWidth>768&&e(".dropdown-toggle").attr("tabindex",-1),window.innerWidth<769&&e(".dropdown-toggle").removeAttr("tabindex")})),e(".scrollbutton").click((function(n){if(location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"")&&location.hostname===this.hostname){var t=e(this.hash);(t=t.length?t:e("[name="+this.hash.slice(1)+"]")).length&&(n.preventDefault(),e("html, body").animate({scrollTop:t.offset().top},600,(function(){var n=e(t);if(n.focus(),n.is(":focus"))return!1;n.attr("tabindex","-1"),n.focus()})))}})),e(".osixthreeo-backtotop").click((function(){return e("html, body").animate({scrollTop:0},"slow"),!1}))}(jQuery);